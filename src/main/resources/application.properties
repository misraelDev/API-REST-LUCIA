# Configuraci贸n de base de datos Supabase - Session Pooler (compatible con IPv4)
spring.datasource.url=jdbc:postgresql://aws-1-us-east-1.pooler.supabase.com:5432/postgres?sslmode=require&ApplicationName=LuciaAPI
spring.datasource.username=postgres.zhojtzefqnwwkfibwrrd
spring.datasource.password=Lucia2024!@#Secure
spring.datasource.driver-class-name=org.postgresql.Driver

# Test de conexi贸n simple - descomenta para debug
logging.level.com.zaxxer.hikari=DEBUG
logging.level.org.springframework.jdbc=DEBUG
logging.level.com.lucia.service.SupabaseAuthService=DEBUG
logging.level.org.springframework.web.reactive.function.client=DEBUG

# Configuraci贸n del pool de conexiones HikariCP optimizada para Supabase Session Pooler
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.idle-timeout=120000
spring.datasource.hikari.max-lifetime=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.leak-detection-threshold=60000

# Configuraci贸n JPA/Hibernate optimizada para Session Pooler
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# En lugar de 'validate', usa una de estas opciones:
spring.jpa.hibernate.ddl-auto=update        
spring.jpa.properties.hibernate.format_sql=true

# SSL (requerido por Supabase)
spring.datasource.hikari.data-source-properties.sslmode=require
spring.datasource.hikari.data-source-properties.sslcert=
spring.datasource.hikari.data-source-properties.sslkey=
spring.datasource.hikari.data-source-properties.sslrootcert=

# Supabase Configuration
supabase.url=https://zhojtzefqnwwkfibwrrd.supabase.co
supabase.anon-key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpob2p0emVmcW53d2tmaWJ3cnJkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDkxMDUsImV4cCI6MjA3MTg4NTEwNX0.zgPOIRFCfD4xsDPqi4ggPc85GnaxK0742-afOcQsAC4
supabase.service-role-key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpob2p0emVmcW53d2tmaWJ3cnJkIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NjMwOTEwNSwiZXhwIjoyMDcxODg1MTA1fQ.R954iEDS05sgFnxx0UmukHuwHfRdZSTVdYH1NRFzK2g
